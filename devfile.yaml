schemaVersion: 2.1.0
metadata:
  name: mlops-template
  version: 1.0.0
  displayName: MLOps Template
  description: Devfile for the MLOps Template
  projectType: python
  language: python
components:
  - name: mlops-dev-container
    container:
      image: registry.access.redhat.com/ubi9/python-39:1-165
      args: ['tail', '-f', '/dev/null']
      mountSources: true
      memoryLimit: 2Gi  
      endpoints:
        - name: jupyter
          targetPort: 8888
          attributes:
            protocol: http
            secure: false
            public: true
commands:
  - id: install-dependencies
    exec:
      commandLine: pip install poetry && poetry install --no-root 
      workingDir: ${PROJECT_SOURCE}
      component: mlops-dev-container
      group:
        kind: build
