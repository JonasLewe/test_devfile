schemaVersion: 2.2.0
metadata:
  name: devspaces-gpu
attributes:
  controller.devfile.io/storage-type: ephemeral
# projects:
#   - name: devspaces-gpu
#     git:
#       remotes:
#         origin: "https://github.com/bkoz/devspaces.git"
#       checkoutFrom:
#         revision: main
components:
  - attributes:
      container-overrides:
        resources:
          limits:
            nvidia.com/gpu: '1'
          requests:
            nvidia.com/gpu: '1'
      controller.devfile.io/merge-contribution: true
      tolerations:
        - key: nvidia.com/gpu
          operator: Exists
          effect: NoSchedule
        - key: node
          value: ops
          effect: NoSchedule
    container:
      image: ghcr.io/redhat-na-ssa/udi-cuda:latest
      memoryLimit: 256Mi
      cpuLimit: 10m
      mountSources: true
      sourceMapping: /projects
    name: python
